<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="AdminLoginActionGroup">
        <waitForElementVisible stepKey=""/>
        <magentoCLI command="security:tfa:google:set-secret {{_ENV.MAGENTO_ADMIN_USERNAME}} abc" after="clickLogin" stepKey="set2faSecret"/>
        <magentoCLI command="config:set twofactorauth/google/window 60" after="set2faSecret" stepKey="set2faWindow"/>
        <magentoCLI command="config:set twofactorauth/general/force_providers google" after="set2faWindow" stepKey="set2faGoogleAvailable"/>
        <helper class="\Magento\TwoFactorAuth\Test\Mftf\Helper\GenerateOtp" method="grantAccess" after="set2faGoogleAvailable" stepKey="set2faOtp"/>
    </actionGroup>
</actionGroups>
